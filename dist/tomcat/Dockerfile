
##################################################
#                                                #
# DO NOT EDIT THIS FILE MANUALLY                 #
# AUTOMATICALLY CREATED WITH docker-builder.sh   #
#                                                #
##################################################
  

FROM whatwedo/base:latest
RUN apt-get update -y && \
add-apt-repository ppa:webupd8team/java && \
apt-get update && \
echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | /usr/bin/debconf-set-selections && \
apt-get install -y oracle-java8-installer && \
apt-get install -y maven
WORKDIR /usr/src
RUN wget https://archive.apache.org/dist/tomcat/tomcat-8/v8.0.14/bin/apache-tomcat-8.0.14.tar.gz && \
tar -xzf apache-tomcat-8.0.14.tar.gz && \
mv apache-tomcat-8.0.14 /opt/tomcat && \
groupadd tomcat && \
useradd -g tomcat -d /opt/tomcat tomcat && \
usermod -G www-data tomcat && \
chown tomcat:tomcat /opt/tomcat -R && \
rm apache-tomcat-8.0.14.tar.gz && \
rm -rf /opt/tomcat/webapps/*
COPY files/supervisord/tomcat.conf /etc/supervisor/conf.d/tomcat.conf
RUN apt-get autoremove -y && \
apt-get clean -y && \
rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
EXPOSE 8080
LABEL ch.whatwedo.image.base="whatwedo/tomcat"
